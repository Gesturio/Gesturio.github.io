/**
 * Created by Aitem
 */

var GesturesSets = {
  ru: [
    {
      name: 'А',
      file: 'A',
      status: 'good',
      params: {
        M: [1.7514998, -2.3670739, 0.3470871, -2.0383066, 0.7656308, 1.9432108, 1.0370298, 1.4036656, 1.5649684, 1.3550582, 0.6267123, 1.4069069, 1.6950289, 1.3703959, 0.6226208, 1.4119134, 1.7382634, 1.4282925, 0.6052462, 1.4132924, 1.8709412, 1.4292758, 0.6057720],
        D: [0.0151619, 0.0448299, 0.0148057, 0.5837765, 0.0517998, 0.0148303, 0.0486209, 0.0046626, 0.0055088, 0.0374634, 0.0032151, 0.0045345, 0.0021015, 0.0344897, 0.0032135, 0.0023337, 0.0000297, 0.0023263, 0.0007700, 0.0026991, 0.0001941, 0.0016789, 0.0007350]
      }
    },
    {
      name: 'Б',
      file: 'B',
      status: 'unsupported',
      params: {
        M: [],
        D: []
      }
    },
    {
      name: 'В',
      file: 'V',
      status: 'good',
      params: {
        M: [1.8169158, -2.0576807, 0.4168287, -2.2170184, 0.1167554, 1.8871753, 0.2253072, 0.0834209, 1.7442523, 0.2967896, 0.0561305, 0.0464624, 1.7574914, 0.1541566, 0.0385786, 0.0471651, 1.8185217, 0.2068672, 0.0373910, 0.0477701, 1.7473013, 0.2864508, 0.0381293],
        D: [0.0076109, 0.0089776, 0.0095274, 0.0895481, 0.0055069, 0.0416072, 0.0324070, 0.0394168, 0.0098539, 0.0349547, 0.0082278, 0.0003478, 0.0033182, 0.0121089, 0.0002507, 0.0001055, 0.0052171, 0.0058755, 0.0000526, 0.0000717, 0.0183744, 0.0050767, 0.0000459]
      }
    },
    {
      name: 'Г',
      status: 'good',
      file: 'G',
      params: {
        M: [2.4025584, 1.4497394, 2.4115005, -1.7784336, 0.5212085, 2.8623668, 1.6246972, 0.1972923, 1.8043198, 0.3623475, 0.1352891, 1.4704597, 1.6880296, 1.3807226, 0.6481002, 1.4551950, 1.7407453, 1.3705002, 0.6447208, 1.4486708, 1.8579620, 1.3831464, 0.6378719],
        D: [0.0260766, 0.0760512, 0.0272169, 0.0582673, 0.0022753, 0.0117294, 0.0160404, 0.0279541, 0.0033162, 0.0403180, 0.0056007, 0.0082105, 0.0004859, 0.0131971, 0.0029872, 0.0095104, 0.0000856, 0.0163478, 0.0029745, 0.0085841, 0.0002096, 0.0114822, 0.0024123]
      }
    },
    {
      name: 'Д',
      file: 'D',
      status: 'unsupported',
      params: {
        M: [],
        D: []
      }
    },
    {
      name: 'Е',
      file: 'E',
      status: 'good',
      params: {
        M: [1.8584927, -2.5874710, 0.4629991, -2.7841923, 0.3574669, 1.6466908, 0.2775021, 1.0763141, 1.7134648, 0.6326065, 0.6917119, 1.0820476, 1.7799169, 0.6180919, 0.6945749, 0.7908050, 1.7293688, 0.7782593, 0.4774824, 0.7724269, 1.8153594, 0.7800786, 0.4676984],
        D: [0.0081521, 0.0192538, 0.0067283, 0.0194136, 0.0125278, 0.0094139, 0.0227550, 0.0061671, 0.0000419, 0.0007694, 0.0061054, 0.0059029, 0.0011623, 0.0043292, 0.0064283, 0.0142983, 0.0010044, 0.0164551, 0.0136184, 0.0176040, 0.0145948, 0.0071589, 0.0149470]
      }
    },
    {
      name: 'Ж',
      file: 'J',
      status: 'good',
      params: {
        M: [1.88888888, -2.7812473, 0.3666307, -2.8551242, 0.2367834, 1.7686223, 0.4763588, 0.2797957, 1.7519923, 0.8249094, 0.1742761, 0.2826911, 1.8004719, 0.8077340, 0.1764618, 0.4325371, 1.8245998, 0.7132773, 0.2717829, 0.4342773, 1.8580081, 0.7461793, 0.2692888],
        D: [0.0087813, 0.0015267, 0.0112796, 0.0063339, 0.0133188, 0.0063144, 0.0147623, 0.0683296, 0.0019946, 0.0222562, 0.0305090, 0.0699189, 0.0019847, 0.0219893, 0.0309627, 0.0311472, 0.0013833, 0.0177044, 0.0151582, 0.0298172, 0.0008590, 0.0154952, 0.0136607]
      }
    },
    {
      name: 'З',
      file: 'Z',
      status: 'good',
      params: {
        M: [1.9610062, -1.9374588, 0.5598223, -1.9590797, 0.4583149, 1.6092083, 1.1066830, 0.2712097, 1.9293340, 0.2584492, 0.2302466, 1.2883117, 1.6870458, 1.4109256, 0.5585106, 1.2888790, 1.7370140, 1.4585161, 0.5420589, 1.2914948, 1.8879358, 1.4602732, 0.5430075],
        D: [0.0188998, 0.0103589, 0.0211677, 0.0762321, 0.0443104, 0.0019843, 0.0009717, 0.0070016, 0.0049692, 0.0052389, 0.0034011, 0.0292910, 0.0000331, 0.0003720, 0.0060976, 0.0292473, 0.0000043, 0.0002688, 0.0049078, 0.0286958, 0.0000026, 0.0001917, 0.0051241]
      }
    },
    {
      name: 'И',
      file: 'I',
      status: 'poor',
      params: {
        M: [1.4852665, -2.0419895, 0.2331579, 0.6093545, 0.7947268, 1.7250712, 0.6087602, 1.2240371, 1.7056194, 0.9906695, 0.6638219, 1.1956693, 1.7718753, 0.9245531, 0.6653757, 0.1000344, 1.8209231, 0.6193033, 0.0646448, 0.0732251, 1.8155657, 0.5659885, 0.0485677],
        D: [0.0091929, 0.0133658, 0.0086294, 7.1900488, 0.0633356, 0.0029086, 0.0715017, 0.0044127, 0.0103801, 0.0565789, 0.0060474, 0.0124874, 0.0031901, 0.0929840, 0.0071742, 0.0015119, 0.0100174, 0.0097867, 0.0006715, 0.0010650, 0.0047277, 0.0106654, 0.0005105]
      }
    },
    {
      name: 'K',
      file: 'K',
      status: 'good',
      params: {
        M: [1.8805105, -2.8246593, 0.4181574, -2.3977395, 0.5092417, 1.6530617, 0.4443777, 0.0825968, 1.8047622, 0.2830162, 0.0590521, 0.0663006, 1.7881748, 0.1886798, 0.0553512, 1.3808944, 1.7318682, 0.9579935, 0.7661726, 1.3829134, 1.8789848, 1.0084429, 0.7517510],
        D: [0.0120130, 0.0152485, 0.0105975, 0.0310195, 0.0266795, 0.0050237, 0.0069975, 0.0265239, 0.0148352, 0.0248206, 0.0043753, 0.0004207, 0.0061449, 0.0042118, 0.0003103, 0.0312225, 0.0000624, 0.0438607, 0.0204080, 0.0312746, 0.0002992, 0.0420372, 0.0200450]
      }
    },
    {
      name: 'Л',
      file: 'L',
      status: 'good',
      params: {
        M: [2.1361544, 1.3621301, 2.7005436, -1.6255104, 0.5495989, 1.3180521, 0.5328213, 0.0596980, 2.1929335, 0.2740357, 0.0489477, 0.0701478, 1.5960658, 0.2521869, 0.0570237, 1.3369388, 1.7447430, 1.2156313, 0.6462069, 1.3405822, 1.8609609, 1.2313557, 0.6432302],
        D: [0.0439695, 0.0093798, 0.0468358, 0.1171975, 0.0536041, 0.0288333, 0.0354465, 0.0003937, 0.0020599, 0.0026745, 0.0002719, 0.0004439, 0.0060051, 0.0054708, 0.0003105, 0.0182824, 0.0000372, 0.0093184, 0.0039788, 0.0175438, 0.0008197, 0.0099969, 0.0037335]
      }
    },
    {
      name: 'М',
      file: 'M',
      status: 'good',
      params: {
        M: [1.8702200, 1.3866842, 2.9665777, -1.8819647, 0.3617813, 1.2571800, 0.9453880, 0.1424405, 1.9845714, 0.2889119, 0.1236808, 0.0855160, 1.6950901, 0.4197135, 0.0774496, 0.1942215, 1.6506579, 0.1528954, 0.1611195, 0.8156919, 1.8138746, 0.9965053, 0.4410409],
        D: [0.0411935, 0.0444291, 0.0486930, 0.2714661, 0.0279027, 0.0120156, 0.0214861, 0.0015782, 0.0025553, 0.0112607, 0.0011586, 0.0007997, 0.0018187, 0.0119782, 0.0006614, 0.0014184, 0.0022122, 0.0138215, 0.0008614, 0.0129794, 0.0014924, 0.0136885, 0.0040247]
      }
    },
    {
      name: 'Н',
      file: 'N',
      status: 'good',
      params: {
        M: [1.8823416, -1.7911828, 0.4709566, -1.9689937, 0.6218473, 1.3808641, 0.7107049, 0.1547877, 1.9367045, 0.3136758, 0.1156586, 0.1115015, 1.7519104, 0.3098718, 0.1063781, 1.1279142, 1.7537020, 1.0857678, 0.5896695, 0.2468366, 1.5973284, 0.2231503, 0.1990651],
        D: [0.0071847, 0.0296865, 0.0075885, 0.0178802, 0.0618713, 0.0544980, 0.0452626, 0.0365120, 0.0248300, 0.0259758, 0.0094445, 0.0092258, 0.0028894, 0.0093808, 0.0119976, 0.0166685, 0.0000615, 0.0530996, 0.0170382, 0.0142190, 0.0183515, 0.0056899, 0.0109751]
      }
    },
    {
      name: 'О',
      file: 'O',
      status: 'good',
      params: {
        M: [1.8296921, -2.1664736, 0.4226827, -2.3222172, 0.6328533, 1.9143577, 0.4560562, 0.8423582, 1.8824929, 0.5773825, 0.5075984, 0.0555843, 1.7521141, 0.1325943, 0.0439439, 0.0527838, 1.8088824, 0.1884611, 0.0413134, 0.0481629, 1.6306397, 0.2294974, 0.0380264],
        D: [0.0047375, 0.0052470, 0.0068642, 0.0376594, 0.0185788, 0.0017480, 0.0068680, 0.0297668, 0.0107274, 0.0465706, 0.0327881, 0.0002889, 0.0057186, 0.0041708, 0.0001901, 0.0002990, 0.0016551, 0.0038994, 0.0001630, 0.0002529, 0.0371101, 0.0082703, 0.0001335]
      }
    },
    {
      name: 'П',
      file: 'P',
      status: 'good',
      params: {
        M: [2.1312796, 1.3422386, 2.7013594, -1.6414406, 0.3370514, 1.3587417, 0.7921068, 0.0683315, 1.8478702, 0.2465047, 0.0578815, 0.0882433, 1.9052085, 0.2226354, 0.0739432, 1.4272203, 1.7496527, 1.1582661, 0.7128257, 1.4324182, 1.8389620, 1.1896900, 0.7043200],
        D: [0.0067553, 0.0306689, 0.0071369, 0.0587365, 0.0245622, 0.0315211, 0.0231888, 0.0004253, 0.0061374, 0.0114593, 0.0003376, 0.0006059, 0.0064032, 0.0041923, 0.0004853, 0.0145996, 0.0001112, 0.0127330, 0.0064503, 0.0143134, 0.0017271, 0.0122634, 0.0062703]
      }
    },
    {
      name: 'Р',
      file: 'R',
      status: 'good',
      params: {
        M: [1.6817773, -1.8824764, 0.2755704, -2.1941039, 0.8354290, 1.7134280, 0.9471285, 0.2824567, 1.9961388, 0.2980602, 0.2435970, 1.2054388, 1.7368824, 1.1586387, 0.5991932, 0.0636894, 1.7937733, 0.3010847, 0.0462345, 0.0579066, 1.6953546, 0.2977325, 0.0442236],
        D: [0.0117098, 0.0127065, 0.0116259, 0.0525343, 0.0440618, 0.0089048, 0.0497556, 0.0037852, 0.0031397, 0.0127492, 0.0036473, 0.0101011, 0.0012655, 0.0411206, 0.0065697, 0.0008553, 0.0061889, 0.0105380, 0.0004225, 0.0014836, 0.0308784, 0.0114170, 0.0011385]
      }
    },
    {
      name: 'С',
      file: 'S',
      status: 'good',
      params: {
        M: [1.8055226, -2.5765410, 0.4176329, -2.8464865, 0.3033178, 2.0635684, 0.4956344, 0.9265144, 1.6942544, 0.2895791, 0.7307798, 0.9532327, 1.6984803, 0.2251653, 0.7289327, 0.9316710, 1.5985161, 0.2659342, 0.6932281, 0.9265283, 1.7698840, 0.3769963, 0.6793354],
        D: [0.0082162, 0.0176606, 0.0060304, 0.0212406, 0.0299102, 0.0182090, 0.0189957, 0.0063253, 0.0008064, 0.0154678, 0.0069519, 0.0073957, 0.0011434, 0.0173610, 0.0072730, 0.0295191, 0.0021129, 0.0202525, 0.0144141, 0.0297020, 0.0072494, 0.0151076, 0.0141994]
      }
    },
    {
      name: 'Т',
      file: 'T',
      status: 'good',
      params: {
        M: [1.8512191, 1.3500587, 2.9044708, -1.8924457, 0.6754041, 1.1792964, 0.9330797, 0.0942940, 1.7217972, 0.4665647, 0.0751477, 0.0732169, 1.7434087, 0.3985491, 0.0632033, 0.0988842, 1.7632472, 0.3887571, 0.0846806, 0.8139394, 1.7757576, 0.8900959, 0.4576262],
        D: [0.0445865, 0.0459840, 0.0444475, 0.2237433, 0.0431934, 0.0154943, 0.0550314, 0.0288549, 0.0022114, 0.0227250, 0.0095924, 0.0012727, 0.0099757, 0.0231235, 0.0009658, 0.0010649, 0.0103663, 0.0232714, 0.0008571, 0.0257543, 0.0040340, 0.0603765, 0.0072498]
      }
    },
    {
      name: 'У',
      file: 'Y',
      status: 'good',
      params: {
        M: [1.3895666, -1.9680815, 0.2185652, 2.3342961, 0.1856927, 2.4083937, 1.1912009, 1.4468179, 1.5261864, 1.4433013, 0.6146207, 1.4419941, 1.6770145, 1.4496035, 0.6101786, 1.4360023, 1.7372560, 1.4371524, 0.6122554, 0.2891866, 1.4266487, 0.4542861, 0.2014094],
        D: [0.0234926, 0.0196416, 0.0104934, 0.2644894, 0.0052096, 0.0036146, 0.0038050, 0.0098645, 0.0001292, 0.0002549, 0.0017756, 0.0093433, 0.0000322, 0.0003663, 0.0018306, 0.0095643, 0.0000086, 0.0003023, 0.0018192, 0.0142031, 0.0038266, 0.0147767, 0.0057824]
      }
    },
    {
      name: 'Ф',
      file: 'F',
      status: 'good',
      params: {
        M: [1.88888888, -2.7812473, 0.3666307, -2.8551242, 0.2915540, 1.6939593, 1.1513668, 0.1330891, 1.5701797, 1.2694714, 0.0643086, 0.1371018, 1.7169926, 1.2666752, 0.0664220, 0.1359374, 1.7639994, 1.2890440, 0.0651826, 0.1359369, 1.8425038, 1.3204791, 0.0637332],
        D: [0.0087813, 0.0015267, 0.0112796, 0.0063339, 0.0510240, 0.0063862, 0.0124656, 0.0183136, 0.0009670, 0.0096126, 0.0045464, 0.0196831, 0.0005110, 0.0090697, 0.0049398, 0.0162358, 0.0003517, 0.0081058, 0.0041064, 0.0165922, 0.0003080, 0.0068124, 0.0039771]
      }
    },
    {
      name: 'Х',
      file: 'X',
      status: 'poor',
      params: {
        M: [1.8891613, -2.8380785, 0.5229066, -2.3724402, 1.1757171, 1.5649010, 1.1016750, 0.9544019, 1.9184912, 0.3001029, 0.7943135, 1.3416673, 1.6824861, 1.4259372, 0.5759922, 1.3444482, 1.7375697, 1.4460089, 0.5705044, 1.3465282, 1.8809261, 1.4518732, 0.5691770],
        D: [0.0093214, 0.0164358, 0.0082168, 0.0308614, 0.0242950, 0.0219429, 0.0067917, 0.0707579, 0.0123953, 0.0122429, 0.0735224, 0.0111657, 0.0000581, 0.0007182, 0.0022086, 0.0109833, 0.0000103, 0.0004913, 0.0021335, 0.0115458, 0.0000461, 0.0002402, 0.0022477]
      }
    },
    {
      name: 'Ц',
      file: 'C',
      status: 'poor',
      params: {
        M: [1.1208439, 2.0253737, 0.4144758, -1.8859697, 0.3122130, 1.9739359, 0.5168628, 0.9971899, 1.7106399, 0.9681121, 0.5447625, 0.0909009, 1.7202423, 0.7968308, 0.0513146, 0.0720798, 1.8113827, 0.7868467, 0.0424419, 0.8456752, 1.8294495, 1.1920853, 0.4105867],
        D: [0.0075161, 0.0316133, 0.0147531, 0.0525441, 0.0105169, 0.0105364, 0.0137889, 0.0510412, 0.0015239, 0.0082936, 0.0153961, 0.0161733, 0.0030884, 0.0194335, 0.0037791, 0.0007859, 0.0047290, 0.0212382, 0.0002237, 0.0324314, 0.0010278, 0.0211501, 0.0073297]
      }
    },
    {
      name: 'Ч',
      file: 'CH',
      status: 'good',
      params: {
        M: [1.7193729, -2.9271243, 0.3924819, -2.3010156, 0.1284466, 1.6425565, 0.8126101, 0.1433607, 1.6070639, 1.1906716, 0.0718136, 0.1460508, 1.7247312, 1.2078244, 0.0724051, 1.2813955, 1.7391488, 1.4074489, 0.5550285, 1.2969537, 1.8802971, 1.4177253, 0.5579125],
        D: [0.0062678, 0.0126033, 0.0063145, 0.0798599, 0.0121379, 0.0083620, 0.0063822, 0.0264384, 0.0011022, 0.0060934, 0.0069662, 0.0271067, 0.0015581, 0.0066848, 0.0070081, 0.0577178, 0.0000292, 0.0026291, 0.0101587, 0.0579161, 0.0001167, 0.0026537, 0.0096256]
      }
    },
    {
      name: 'Ш',
      file: 'SH',
      status: 'good',
      params: {
        M: [2.0479143, -1.9442661, 0.6355122, -1.9966094, 0.6774986, 1.2012250, 1.0165118, 0.0613308, 1.8044499, 0.5411952, 0.0568399, 0.0840989, 1.7371428, 0.5382928, 0.0584781, 0.0735156, 1.6861804, 0.5022822, 0.0678182, 1.0465485, 1.8092237, 1.0521098, 0.5515104],
        D: [0.0103863, 0.0136048, 0.0103654, 0.0158745, 0.0911252, 0.0205069, 0.0225102, 0.0026840, 0.0073917, 0.0073706, 0.0022914, 0.0373879, 0.0033418, 0.0157591, 0.0082065, 0.0026438, 0.0126741, 0.0029652, 0.0022349, 0.0079492, 0.0021853, 0.0309055, 0.0050564]
      }
    },
    {
      name: 'Ы',
      file: 'U',
      status: 'good',
      params: {
        M: [1.6351796, -1.7150710, 0.3241217, -2.3380894, 0.8514241, 1.4940457, 0.9920588, 0.3304069, 2.0088896, 0.2480133, 0.2839349, 1.1811464, 1.7048631, 1.3045168, 0.5463890, 1.1807627, 1.7398863, 1.2895665, 0.5506831, 0.2557464, 1.3266307, 0.4243632, 0.1828739],
        D: [0.0229088, 0.0250055, 0.0110581, 0.5550668, 0.1544618, 0.0091474, 0.0223036, 0.0043253, 0.0040976, 0.0133306, 0.0037061, 0.0258865, 0.0005365, 0.0158366, 0.0096560, 0.0255557, 0.0000306, 0.0137599, 0.0093071, 0.0308129, 0.0128994, 0.0358626, 0.0072683]
      }
    },
    {
      name: 'Ь',
      file: 'II',
      status: 'good',
      params: {
        M: [1.4399490, -2.2666628, 0.1568219, -0.3768992, 0.1188026, 2.7117940, 1.2674051, 0.1902432, 1.7793854, 0.5136820, 0.1282724, 1.4146204, 1.6820341, 1.4065614, 0.6143470, 1.3539009, 1.7383622, 1.3946092, 0.5925103, 1.3519929, 1.8743013, 1.4160301, 0.5832566],
        D: [0.0151603, 0.6091453, 0.0075703, 3.6482592, 0.0037376, 0.0084770, 0.0144165, 0.0013774, 0.0063807, 0.0170593, 0.0007631, 0.0244006, 0.0000399, 0.0008523, 0.0045118, 0.0225301, 0.0000120, 0.0014959, 0.0037838, 0.0214211, 0.0002625, 0.0015908, 0.0032550]
      }
    },
    {
      name: 'Э',
      file: 'IE',
      status: 'good',
      params: {
        M: [1.7688646, -2.3555829, 0.3580689, -2.3315621, 0.2116017, 2.1240041, 0.9959782, 0.3089181, 1.7224933, 0.5949325, 0.2004627, 1.4978606, 1.6800648, 1.4399927, 0.6375778, 1.4863949, 1.7385837, 1.4369671, 0.6339086, 1.4820929, 1.8650086, 1.4483197, 0.6280164],
        D: [0.0038352, 0.0175884, 0.0031734, 0.0222174, 0.0040342, 0.0047845, 0.0010302, 0.0018395, 0.0002613, 0.0083448, 0.0007023, 0.0005885, 0.0000327, 0.0005126, 0.0002648, 0.0005521, 0.0000347, 0.0019085, 0.0005097, 0.0004731, 0.0001213, 0.0010102, 0.0003448]
      }
    },
    {
      name: 'Ю',
      file: 'YU',
      status: 'good',
      params: {
        M: [1.88888888, -2.7812473, 0.3666307, -2.8551242, 0.1604034, 1.7194585, 0.4749361, 0.5920539, 1.6672405, 0.8238411, 0.3585467, 0.5934383, 1.7366202, 0.8125694, 0.3591200, 0.5962378, 1.7997749, 0.8704212, 0.3512938, 0.1592722, 1.6498817, 0.1996230, 0.1279915],
        D: [0.0087813, 0.0015267, 0.0112796, 0.0063339, 0.0209520, 0.0085610, 0.0251096, 0.0294976, 0.0030649, 0.0540985, 0.0192546, 0.0262299, 0.0013080, 0.0596646, 0.0176958, 0.0281659, 0.0005571, 0.0503100, 0.0171824, 0.0009046, 0.0078115, 0.0073099, 0.0007101]
      }
    },
    {
      name: 'Я',
      file: 'YA',
      status: 'good',
      params: {
        M: [1.8823416, -1.7911828, 0.4709566, -1.9689937, 0.8035303, 1.3737718, 0.6405597, 0.0695277, 1.6731691, 0.4893639, 0.0477935, 0.0515182, 2.0121146, 0.4349736, 0.0360392, 1.0301356, 1.7387486, 1.3801108, 0.4550447, 1.0315040, 1.8875962, 1.4319303, 0.4418299],
        D: [0.0071847, 0.0296865, 0.0075885, 0.0178802, 0.0109411, 0.0030077, 0.0030606, 0.0003244, 0.0000186, 0.0014556, 0.0001565, 0.0003719, 0.0000895, 0.0018425, 0.0001862, 0.0280118, 0.0000089, 0.0008813, 0.0060937, 0.0278010, 0.0000020, 0.0007104, 0.0056758]
      }
    }
  ],

  en: [
    {
      name: 'A',
      file: 'A',
      status: 'good',
      params: {
        M: [1.8169158, -2.0576807, 0.4168287, -2.2170184, 0.7656308, 1.9432108, 1.0370298, 1.4036656, 1.5649684, 1.3550582, 0.6267123, 1.4069069, 1.6950289, 1.3703959, 0.6226208, 1.4119134, 1.7382634, 1.4282925, 0.6052462, 1.4132924, 1.8709412, 1.4292758, 0.6057720],
        D: [0.0015119, 0.0024829, 0.00214805, 0.0023776, 0.00517998, 0.0148303, 0.0486209, 0.0046626, 0.0055088, 0.0374634, 0.0032151, 0.0045345, 0.0021015, 0.0344897, 0.0032135, 0.0023337, 0.0000297, 0.0023263, 0.0007700, 0.0026991, 0.0001941, 0.0016789, 0.0007350]
      }
    },
    {
      name: 'B',
      file: 'B',
      status: 'good',
      params: {
        M: [1.8169158, -2.0576807, 0.4168287, -2.2170184, 0.1167554, 1.8871753, 0.2253072, 0.0834209, 1.7442523, 0.2967896, 0.0561305, 0.0464624, 1.7574914, 0.1541566, 0.0385786, 0.0471651, 1.8185217, 0.2068672, 0.0373910, 0.0477701, 1.7473013, 0.2864508, 0.0381293],
        D: [0.0076109, 0.0089776, 0.0095274, 0.0895481, 0.0055069, 0.0416072, 0.0324070, 0.0394168, 0.0098539, 0.0349547, 0.0082278, 0.0003478, 0.0033182, 0.0121089, 0.0002507, 0.0001055, 0.0052171, 0.0058755, 0.0000526, 0.0000717, 0.0183744, 0.0050767, 0.0000459]
      }
    },
    {
      name: 'C',
      file: 'C',
      status: 'good',
      params: {
        M: [1.8055226, -2.5765410, 0.4176329, -2.8464865, 0.3033178, 2.0635684, 0.4956344, 0.9265144, 1.6942544, 0.2895791, 0.7307798, 0.9532327, 1.6984803, 0.2251653, 0.7289327, 0.9316710, 1.5985161, 0.2659342, 0.6932281, 0.9265283, 1.7698840, 0.3769963, 0.6793354],
        D: [0.0082162, 0.0176606, 0.0060304, 0.0212406, 0.0299102, 0.0182090, 0.0189957, 0.0063253, 0.0008064, 0.0154678, 0.0069519, 0.0073957, 0.0011434, 0.0173610, 0.0072730, 0.0295191, 0.0021129, 0.0202525, 0.0144141, 0.0297020, 0.0072494, 0.0151076, 0.0141994]
      }
    },
    {
      name: 'D',
      file: 'D',
      status: 'poor',
      params: {
        M: [1.82664,-2.67826,0.61751,-1.80026,0.21833,1.72242,0.26579,0.38696,1.8914,0.2004,0.32086,0.88677,1.74708,0.69432,0.55261,0.84461,1.70147,0.70733,0.52268,0.81636,1.77128,0.71694,0.50425],
        D:[0.00285,0.00655,0.0081,0.00223,0.00161,0.00508,0.00938,0.00632,0.00152,0.00147,0.00745,0.00157,0.00151,0.00902,0.00434,0.00128,0.00651,0.00223,0.00316,0.00285,0.00305,0.00759,0.00701]
      }
    },
    {
      name: 'E',
      file: 'E',
      status: 'poor',
      params: {
        M: [2.17324,-1.77048,0.76587,-1.93843,0.88087,1.82164,0.80407,1.38248,1.78445,0.44664,1.21547,1.41782,1.6784,0.37843,1.25735,1.15519,1.64598,0.24382,0.97303,1.12992,1.69637,0.31455,0.95632],
        D: [0.00148,0.00563,0.00254,0.00132,0.00527,0.00682,0.00264,0.00152,0.00307,0.00141,0.00746,0.00823,0.00488,0.00246,0.0019,0.00264,0.00143,0.0073,0.00473,0.00417,0.00306,0.00452,0.00454]
      }
    },
    {
      name: 'F',
      file: 'F',
      status: 'good',
      params: {
        M: [1.8296921, -2.1664736, 0.4226827, -2.3222172, 0.6328533, 1.9143577, 0.4560562, 0.8423582, 1.8824929, 0.5773825, 0.5075984, 0.0555843, 1.7521141, 0.1325943, 0.0439439, 0.0527838, 1.8088824, 0.1884611, 0.0413134, 0.0481629, 1.6306397, 0.2294974, 0.0380264],
        D: [0.0047375, 0.0052470, 0.0068642, 0.0376594, 0.0185788, 0.0017480, 0.0068680, 0.0297668, 0.0107274, 0.0465706, 0.0327881, 0.0002889, 0.0057186, 0.0041708, 0.0001901, 0.0002990, 0.0016551, 0.0038994, 0.0001630, 0.0002529, 0.0371101, 0.0082703, 0.0001335]
      }
    },
    {
      name: 'G',
      file: 'G',
      status: 'good',
      params:{
        M: [2.44965,-0.71721,1.03378,-0.77883,0.21951,1.8793,0.96279,0.39867,1.7059,0.72984,0.24588,1.45327,1.67773,1.43845,0.61906,1.44898,1.73758,1.43199,0.61966,1.45045,1.87767,1.41504,0.62675],
        D: [0.00284,0.00993,0.00365,0.0026,0.00624,0.00106,0.0069,0.00464,0.00693,0.00157,0.00303,0.0012,0.00864,0.00109,0.00194,0.00156,0.00236,0.00916,0.00283,0.00127,0.00792,0.00123,0.00343]
      }
    },
    {
      name: 'H',
      file: 'H',
      status: 'good',
      params: {
        M: [1.99071,-2.02979,1.22214,-0.79996,0.94313,1.47394,0.63137,0.14429,1.69663,0.32985,0.12151,0.16537,1.7296,0.17242,0.13815,1.46591,1.74688,1.27946,0.68508,1.46941,1.87203,1.318,0.67221],
        D:[0.0052,0.00211,0.00313,0.00145,0.00145,0.00112,0.00645,0.00428,0.00265,0.00914,0.00604,0.00509,0.00864,0.00588,0.00765,0.00261,0.00743,0.00404,0.00689,0.003,0.00116,0.00487,0.0029]}
    },
    {
      name: 'I',
      file: 'I',
      status: 'good',
      params: {
        M: [1.6692119, -2.0344338, 0.2902021, -2.4417363, 0.9895098, 1.3738392, 1.0680244, 1.3853393, 1.5474238, 1.3965825, 0.6048841, 1.3755302, 1.6896582, 1.3941457, 0.6013259, 1.3782717, 1.7340594, 1.3879896, 0.6046814, 0.21543456, 1.4317921, 0.17942116, 0.16989843],
        D: [0.002440877, 0.002565176, 0.00101196, 0.00443212, 0.00596259, 0.003229455, 0.00641106, 0.00180932, 0.00800751, 0.001721533, 0.001946478, 0.00245849, 0.00801907, 0.001194248, 0.003176985, 0.001928515, 0.00228264, 0.0018293, 0.00344348, 0.003535945, 0.0089985, 0.001401497, 0.001299142]
      }
    },
    {
      name: 'J',
      file: 'J',
      status: 'good',
      params: {
        M: [1.84476,-1.7166,0.66166,-0.81681,0.83796,1.37345,0.93933,1.38149,1.58811,1.31309,0.63397,1.377,1.70098,1.31044,0.63266,1.37692,1.74425,1.27671,0.64461,0.20375,1.25768,0.28415,0.16544],
        D: [0.00406,0.00185,0.00174,0.00108,0.00274,0.00683,0.00324,0.00901,0.00442,0.00125,0.00291,0.00156,0.00214,0.00662,0.00222,0.00101,0.00266,0.00137,0.00798,0.00212,0.00249,0.00136,0.00149]
      }
    },
    {
      name: 'K',
      file: 'K',
      status: 'good',
      params: {
        M: [1.97657,-1.65494,0.56424,-1.77953,0.5495989, 1.3180521, 0.5328213, 0.0596980, 2.1929335, 0.2740357, 0.0489477, 0.0701478, 1.5960658, 0.2521869, 0.0570237, 1.3369388, 1.7447430, 1.2156313, 0.6462069, 1.3405822, 1.8609609, 1.2313557, 0.64323024],
        D: [0.00227,0.00227,0.00245,0.00259,0.00177,0.00289,0.00249,0.00434,0.00525,0.00332,0.00808,0.00964,0.00232,0.00239,0.0012,0.00155,0.00887,0.00182,0.00339,0.00162,0.00899,0.00158,0.00344]
      }
    },
    {
      name: 'L',
      file: 'L',
      status: 'good',
      params: {
        M: [1.4399490, -2.2666628, 0.1568219, -0.3768992, 0.1188026, 2.7117940, 1.2674051, 0.1902432, 1.7793854, 0.5136820, 0.1282724, 1.4146204, 1.6820341, 1.4065614, 0.6143470, 1.3539009, 1.7383622, 1.3946092, 0.5925103, 1.3519929, 1.8743013, 1.4160301, 0.5832566],
        D: [0.0151603, 0.6091453, 0.0075703, 0.6482592, 0.0037376, 0.0084770, 0.0144165, 0.0013774, 0.0063807, 0.0170593, 0.0007631, 0.0244006, 0.0000399, 0.0008523, 0.0045118, 0.0225301, 0.0000120, 0.0014959, 0.0037838, 0.0214211, 0.0002625, 0.0015908, 0.0032550]
      }
    },
    {
      name: 'M',
      file: 'M',
      status: 'poor',
      params: {
        M: [2.84005, -1.1931, 1.66219, -1.56185, 0.11697, 1.83438, 0.29019, 1.01112, 1.69218, 0.39171, 0.74747, 0.97564, 1.68081, 0.30424, 0.73478, 0.94841, 1.69425, 0.20724, 0.72354, 0.9478, 1.72546, 0.29922, 0.71265],
        D: [0.00419, 0.42567, 0.00327, 0.00416, 0.00184, 0.00775, 0.0034, 0.00613, 0.00174, 0.00151, 0.0061, 0.0022, 0.00319, 0.00127, 0.00892, 0.00346, 0.00206, 0.00978, 0.00942, 0.00311, 0.00789, 0.00643, 0.00879]
      }
    },
    {
      name: 'N',
      file: 'N',
      status: 'unsupported',
      params: {
        M: [],
        D: []
      }
    },
    {
      name: 'O',
      file: 'O',
      status: 'good',
      params: {
        M: [1.8584927, -2.5874710, 0.4629991, -2.7841923, 0.3574669, 1.6466908, 0.2775021, 1.0763141, 1.7134648, 0.6326065, 0.6917119, 1.0820476, 1.7799169, 0.6180919, 0.6945749, 0.7908050, 1.7293688, 0.7782593, 0.4774824, 0.7724269, 1.8153594, 0.7800786, 0.4676984],
        D: [0.0081521, 0.0192538, 0.0067283, 0.0194136, 0.0125278, 0.0094139, 0.0227550, 0.0061671, 0.0000419, 0.0007694, 0.0061054, 0.0059029, 0.0011623, 0.0043292, 0.0064283, 0.0142983, 0.0010044, 0.0164551, 0.0136184, 0.0176040, 0.0145948, 0.0071589, 0.0149470]
      }
    },
    {
      name: 'P',
      file: 'P',
      status: 'good',
      params: {
        "M": [2.92186629636842, -1.6910288922187695, 1.7282794192868485, -0.7478410981530971, 0.16105560636072822, 1.705646980051504, 1.0150697267482292, 0.17733782735559714, 1.7169774610480764, 0.3822924380208085, 0.15297178235492143, 0.652770007692803, 1.7515317948887819, 1.1361418242364938, 0.3322091842880359, 0.7076335897240115, 1.7563830233377642, 1.1990350043083708, 0.34923950877366355, 0.9424540736334232, 1.877772987232063, 1.1889284648784626, 0.45699678321906906],
        "D": [0.00115, 0.04624, 0.00269, 0.0015, 0.00108, 0.00287, 0.00512, 0.0031, 0.00326, 0.00233, 0.0024, 0.00708, 0.00781, 0.00115, 0.00356, 0.00982, 0.00226, 0.00113, 0.0045, 0.00208, 0.00877, 0.00135, 0.00167]
      }
    },
    {
      name: 'Q',
      file: 'Q',
      status: 'good',
      params: {
        M: [2.83651,0.6877,1.70062,-0.77923,0.17116,2.1548,0.9511,0.29111,1.70385,0.72133,0.179,1.44228,1.69841,1.35586,0.64528,1.43747,1.74198,1.35651,0.64276,1.42629,1.8349,1.34066,0.64438],
        D:[0.00527,0.00134,0.00177,0.00404,0.0032,0.00315,0.00939,0.00585,0.00399,0.00116,0.00533,0.00545,0.00109,0.00133,0.00125,0.00718,0.00204,0.0088,0.00358,0.00518,0.00158,0.00825,0.00748]
      }
    },
    {
      name: 'R',
      file: 'R',
      status: 'poor',
      params: {
        M: [1.7539611, -1.9947665, 0.3661874, -1.6029839, 0.8035303, 1.3737718, 0.6405597, 0.0695277, 1.6731691, 0.4893639, 0.0477935, 0.0515182, 2.0121146, 0.4349736, 0.0360392, 1.0301356, 1.7387486, 1.3801108, 0.4550447, 1.0315040, 1.8875962, 1.4319303, 0.4418299],
        D: [0.0034819, 0.0037694, 0.0048928, 0.0312039, 0.0109411, 0.0030077, 0.0030606, 0.0003244, 0.0000186, 0.0014556, 0.0001565, 0.0003719, 0.0000895, 0.0018425, 0.0001862, 0.0280118, 0.0000089, 0.0008813, 0.0060937, 0.0278010, 0.0000020, 0.0007104, 0.0056758]
      }
    },
    {
      name: 'S',
      file: 'S',
      status: 'unsupported',
      params: {
        M: [],
        D: []
      }
    },
    {
      name: 'T',
      file: 'T',
      status: 'good',
      params: {
        M: [1.46483,-2.65994,0.56608,-1.36935,0.20048,2.17004,1.13383,1.53089,1.54412,1.40891,0.66386,1.53225,1.68151,1.41794,0.6609,1.5282,1.7401,1.35978,0.68225,1.51854,1.85233,1.35324,0.68107],
        D: [0.00206,0.00173,0.002,0.00741,0.00111,0.00105,0.00662,0.00912,0.00127,0.00181,0.00146,0.00275,0.00545,0.00604,0.00989,0.0074,0.00335,0.00356,0.00404,0.00188,0.00271,0.00335,0.00493]
      }
    },
    {
      name: 'U',
      file: 'U',
      status: 'good',
      params: {
        M: [2.06275,-2.00076,0.66611,-1.73379,0.3370514, 1.3587417, 0.7921068, 0.0683315, 1.8478702, 0.2465047, 0.0578815, 0.0882433, 1.9052085, 0.2226354, 0.0739432, 1.4272203, 1.7496527, 1.1582661, 0.7128257, 1.4324182, 1.8389620, 1.1896900, 0.7043200],
        D: [0.00157,0.00648,0.00122,0.00326,0.00136,0.00137,0.00575,0.00226,0.00219,0.0068,0.0023,0.00801,0.00842,0.00414,0.00818,0.00197,0.00124,0.00196,0.00769,0.00205,0.00803,0.00199,0.00831]
      }
    },
    {
      name: 'V',
      file: 'V',
      status: 'unsupported',
      params: {
        M: [],
        D: []
      }
    },
    {
      name: 'W',
      file: 'W',
      status: 'good',
      params: {
        M: [2.0479143, -1.9442661, 0.6355122, -1.9966094, 0.6774986, 1.2012250, 1.0165118, 0.0613308, 1.8044499, 0.5411952, 0.0568399, 0.0840989, 1.7371428, 0.5382928, 0.0584781, 0.0735156, 1.6861804, 0.5022822, 0.0678182, 1.0465485, 1.8092237, 1.0521098, 0.5515104],
        D: [0.0103863, 0.0136048, 0.0103654, 0.0158745, 0.0911252, 0.0205069, 0.0225102, 0.0026840, 0.0073917, 0.0073706, 0.0022914, 0.0373879, 0.0033418, 0.0157591, 0.0082065, 0.0026438, 0.0126741, 0.0029652, 0.0022349, 0.0079492, 0.0021853, 0.0309055, 0.0050564]
      }
    },
    {
      name: 'X',
      file: 'X',
      status: 'unsupported',
      params: {
        M: [],
        D: []
      }
    },
    {
      name: 'Y',
      file: 'Y',
      status: 'good',
      params: {
        M: [1.3895666, -1.9680815, 0.2185652, 2.3342961, 0.1856927, 2.4083937, 1.1912009, 1.4468179, 1.5261864, 1.4433013, 0.6146207, 1.4419941, 1.6770145, 1.4496035, 0.6101786, 1.4360023, 1.7372560, 1.4371524, 0.6122554, 0.2891866, 1.4266487, 0.4542861, 0.2014094],
        D: [0.0234926, 0.0126416, 0.0104934, 0.02644894, 0.0052096, 0.0036146, 0.0038050, 0.0098645, 0.0001292, 0.0002549, 0.0017756, 0.0093433, 0.0000322, 0.0003663, 0.0018306, 0.0095643, 0.0000086, 0.0003023, 0.0018192, 0.0142031, 0.0038266, 0.0147767, 0.0057824]
      }
    },
    {
      name: 'Z',
      file: 'Z',
      status: 'good',
      params: {
        M: [1.82028, -1.95311, 0.68379, -0.97935, 0.63408, 1.4739, 1.04716, 0.12377, 1.88659, 0.26418, 0.10729, 1.10603, 1.69705, 1.35983, 0.49511, 1.09818, 1.74093, 1.37072, 0.48908, 1.09545, 1.86676, 1.38933, 0.48261],
        D: [0.0029, 0.00762, 0.00766, 0.00887, 0.00108, 0.00584, 0.00579, 0.00166, 0.00429, 0.00283, 0.00289, 0.00603, 0.00464, 0.00984, 0.00449, 0.00601, 0.00644, 0.00136, 0.0052, 0.0063, 0.00117, 0.00105, 0.00469]
      }
    }
  ],

  _sandbox: [
    {
      name: 'Like',
      status: 'good',
      file: 'like',
      params: {"M":[1.785,-1.13458,1.53373,-1.57842,0.32108,2.69355,1.69517,1.51754,1.52244,1.45617,0.639,1.51664,1.67257,1.46105,0.63651,1.51686,1.73304,1.45291,0.64077,1.50778,1.87038,1.44234,0.64099],
        "D":[0.00928,0.016207,0.01813,0.00843,0.00322,0.00274,0.00123,0.0052,0.00274,0.0019,0.00155,0.00117,0.0067,0.00171,0.00562,0.00164,0.00239,0.00143,0.00104,0.00266,0.00556,0.00376,0.00982]}
    },
    {
      name: 'Dislike',
      status: 'good',
      file: 'dislike',
      params: {"M":[1.85494,-0.45967,1.88617,-2.00354,0.33964,2.3297,1.5708,1.48133,1.54273,1.39885,0.64654,1.49038,1.68311,1.42385,0.6405,1.4964,1.73803,1.42592,0.64208,1.47924,1.86605,1.43656,0.63113],
        "D":[0.00114,0.00154,0.00113,0.00131,0.00329,0.0084,0.00965,0.00222,0.00499,0.00275,0.00728,0.00332,0.00484,0.00195,0.00523,0.00329,0.00894,0.00887,0.00455,0.00143,0.0033,0.00674,0.00726]}
    },
    {
      name: 'Rock',
      status: 'good',
      file: 'rock',
      params: {
        "M":[2.53788,-1.89019,1.13729,-1.76058,0.81063,1.90318,1.3033,1.25459,1.54089,1.42792,0.53716,1.25492,1.6772,1.45284,0.52949,1.25278,1.73617,1.45551,0.52605,1.25203,1.87485,1.45548,0.52868],
        "D":[0.0034,0.00117,0.00292,0.00456,0.00183,0.0018,0.00106,0.00618,0.00217,0.00576,0.00169,0.00415,0.00164,0.0018,0.0054,0.00548,0.00833,0.00306,0.00105,0.0046,0.001,0.00351,0.00851]}
    },
    {
      name: 'Scissors',
      status: 'good',
      file: 'scissors',
      params: {
        "M":[1.78299,-2.95039,1.44578,-1.56744,0.95271,1.55657,0.29018,0.05948,2.19467,0.25474,0.04709,0.09553,1.57431,0.28751,0.06989,1.44539,1.75608,1.14101,0.72689,1.44465,1.8308,1.14113,0.72651],
        "D":[0.00507,0.00103,0.00181,0.00896,0.00169,0.00332,0.00289,0.00191,0.00258,0.001,0.00146,0.00713,0.00283,0.00163,0.002,0.00807,0.00247,0.00939,0.00787,0.00702,0.00126,0.00121,0.00212]
      }
    },
    {
      name: 'Paper',
      status: 'good',
      file: 'paper',
      params : {
        "M":[2.98278,-0.45902,1.69145,-1.83069,0.46636,1.72402,0.10043,0.09463,1.67636,0.2948,0.0775,0.09806,1.7329,0.11665,0.0806,0.05812,1.86833,0.21698,0.0451,0.06811,1.82697,0.30319,0.0522],
        "D":[0.00253,0.00622,0.00108,0.00723,0.00377,0.00412,0.00135,0.00832,0.00135,0.00516,0.00573,0.00652,0.0026,0.0018,0.0045,0.00825,0.00914,0.00103,0.00193,0.00152,0.00271,0.0025,0.00829]}
    },
    {
      name: 'Lizzard',
      status: 'good',
      file: 'lizzard',
      params: {
        "M":[1.68983,-2.60465,0.33889,-2.00534,0.08056,2.24861,0.63941,1.16274,1.68773,0.36517,0.85696,1.15317,1.72955,0.26581,0.8573,1.16189,1.72972,0.24089,0.85978,0.58899,1.81865,0.84868,0.36661],
        "D":[0.00556,0.00159,0.00528,0.02179,0.00564,0.00333,0.00246,0.00171,0.00117,0.00457,0.0022,0.00156,0.00216,0.00495,0.00286,0.00123,0.00133,0.0023,0.00171,0.00706,0.00361,0.0261,0.00727]}
    },
    {
      name: 'Spock',
      status: 'good',
      file: 'spock',
      params: {
        "M":[2.12455,-1.7607,0.71828,-1.80567,0.37235,2.774,0.95739,0.04511,1.74199,0.56305,0.04208,0.04539,1.8492,0.52137,0.04228,0.06282,1.44682,0.27664,0.05349,0.07109,1.54,0.17932,0.05992],
        "D":[0.00269,0.00298,0.00362,0.00429,0.00104,0.00694,0.00403,0.00173,0.00302,0.00657,0.00178,0.005,0.00169,0.0019,0.00476,0.00276,0.00458,0.00863,0.0061,0.00228,0.00114,0.00279,0.00361]}
    }


  ]
};

(function(e) {
  // Нечеткое множество
  // Функция принадлежности класса p
  e._m_p = function (x, m, d) {
    // TODO: precalculate sqtr in etalons
    return Math.exp(-(Math.pow(x - m, 2)/(2*Math.sqrt(d))));
  };

  e.fs = function (x, m, c, d) {
    var a = 0,
      _m = e._m_p;

    for (var i = 0; i < x.length; i++) {
      a += _m(x[i] , c[i], d[i]);
    }
    return a/ x.length;
  };

})(typeof exports === 'undefined'? this['FuzzySet']={}: exports);

(function(e) {
  // Получение вектора по паре координат концов
  e.getVector = function(a, b){
    var r = [];
    for(var i in a){
      r.push(b[i] - a[i]);
    }
    return r;
  };

  // Длина вектора
  e.abs = function(a){
    var r = 0;
    for(var i in a){
      r += Math.pow(a[i], 2);
    }
    return Math.sqrt(r);
  };

  // Нормализация вектора
  e.norm = function(a){
    var r = e.abs(a);
    for(var i in a){
      a[i] = a[i]/r;
    }
    return a;
  };

  e.cartesian2spherical = function(a){
    //a = e.norm(a);
    var f = Math.atan(a[2]/a[0]);
    f = (a[0] < 0 && a[2] < 0)?(-Math.PI + f):f;
    f = (a[0] < 0 && a[2] > 0)?(Math.PI + f):f;
    //f = (f < 0)?(2*Math.PI+f):f;

    return [Math.acos(a[1] / e.abs(a)), f];
  };

  e.angles2cos = function(a){
    for(var i in a){
      a[i] = Math.cos(a[i]);
    }
    return a;
  };

  // Скалярное произведение векторов
  e.dot = function(a, b){
    var t = 0;
    for(var i in a){
      t += a[i]*b[i];
    }
    return t;
  };

  // Угол между векторами - косинус угла
  e.getAngle = function(a, b){
    return Math.acos(e.dot(a, b)/(e.abs(a)*e.abs(b)));
  };

})(typeof exports === 'undefined'? this['Linear']={}: exports);

(function(e) {

  e.fs = function(x, m, c, d){
    return FuzzySet.fs(x, m, c, d);
  };

  e.euclidean = function (x, m) {
    var t = 0;
    for(var i in x){
      t += Math.pow(x[i]-m[i], 2);
    }
    return Math.sqrt(t);
  }

  e.taxicab = function (x, m){
    var t = 0;
    for(var i in x){
      t += Math.abs(x[i] - m[i]);
    }
    return t;
  }

  e.correlation = function(x, m){
    var a = 0, b = 0, c = 0,
      _x = 0, _m =0;
    for(var i in x){
      _x += x[i];
      _m += m[i];
    }
    _x /= x.length; _m /= m.length;
    for(var i in x){
      a += (x[i]-_x)*(m[i]-_m);
      b += Math.pow(x[i] - _x, 2);
      c += Math.pow(m[i] - _m, 2);
    }
    return a/Math.sqrt(b*c);
  }

  e.cosine = function(x, m){
    var  a = 0, b = 0, c = 0;
    for(var i in x){
      a += x[i] * m[i];
      b += Math.pow(x[i], 2);
      c += Math.pow(m[i], 2);
    }
    return a / (Math.sqrt(b) * Math.sqrt(c));
  }

})(typeof exports === 'undefined'? this['Metrics']={}: exports);

/**
 * Модель руки
 * Palm
 *  [N N] [D D]
 * Fingers
 *  T
 *   IP [MCP MCP] [TM TM]
 *  I
 *   PIP [MCP MCP] DIP
 *  M
 *   PIP [MCP MCP] DIP
 *  R
 *   PIP [MCP MCP] DIP
 *  L
 *   PIP [MCP MCP] DIP
 */

(function(e){
    e._m  = '_m_p';
    e.cur_lang = e.cur_lang || 'ru';
    e.GesturesSet = GesturesSets[e.cur_lang];

    // Объект параметров руки
    e.gestureParams = {};
    // Развернутый в массив объект
    e.gestureParamsArray = [];

    /**
     * Расчет вероятностей
     */
    e.getMetrics = function(){
      e.metrics = []
      e.GesturesSet.forEach(function(g){
        if (g.params.M.length) {
          e.metrics.push(Metrics.fs(e.gestureParamsArray, e._m, g.params.M, g.params.D));
        } else {
          e.metrics.push(0)
        }
      });
    };

    /**
     * Приниятие решения
     */
    e.makeDecision = function(){
      return e.GesturesSet[e.max(e.metrics)]
    };
    e.max = function(arr){
      return arr.indexOf(Math.max.apply(Math, arr));
    };

    /**
     * Разворачивание объекта в массив
     */
    e.getParamsArray  = function(){
        e.gestureParamsArray = [];
        e.obj2array(e.gestureParams);
        return e.gestureParamsArray;
    };
    e.obj2array = function (obj) {
        for(var i in obj){
            if (typeof obj[i] == "object" || typeof obj[i] == "array"){
                e.obj2array(obj[i]);
            } else {
                e.gestureParamsArray.push(obj[i]);
            }
        }
    };

    /**
     * Получение параметров руки
     */
    e.getGestureParams = function(hand){
        // Параметры ладони
        // Нормаль и направление
        e.gestureParams = {
            'Palm'    : e.getPalmParams(hand),
            'Fingers' : e.getFingersParams(hand)
        };
        return e.gestureParams;

    };

    /**
     * Параметры ладони
     */
    e.getPalmParams = function(hand){
        return {
            'N' : e.getPalmNormalParams(hand),
            'D' : e.getPalmDirectionParams(hand)
        };
    };
    e.getPalmNormalParams = function(hand){
        return Linear.cartesian2spherical(hand.palmNormal);
    };
    e.getPalmDirectionParams = function(hand){
        var a = Linear.getVector(
            hand.fingers[2].bones[0].prevJoint,
            hand.fingers[2].bones[0].nextJoint
        );
        return Linear.cartesian2spherical(a);
    };

    /**
     *  Параметры пальцев
     */
    e.getFingersParams = function(hand){
        return {
            'T' : e.getFingerParams(hand, 0),
            'I' : e.getFingerParams(hand, 1),
            'M' : e.getFingerParams(hand, 2),
            'R' : e.getFingerParams(hand, 3),
            'L' : e.getFingerParams(hand, 4)
        }
    };
    e.getFingerParams = function(hand, fingerId){
        var finger = hand.fingers[fingerId];
        if(fingerId != 0){
            return [
                e.getPIPAngle(finger),
                e.getMCPAngle(hand, finger),
                e.getDIPAngle(finger)
            ]
        } else {
            return [
                e.getTfingerIPangle(finger),
                e.getTfingerMCPangle(hand, finger)
            ];
        }

    };
    e.getTfingerIPangle = function(finger){
        return e.getJointAngle(finger.bones[2], finger.bones[3]);
    };
    e.getTfingerMCPangle = function(hand, finger){
        var // Первый вектор базиса
            palmAxis = Linear.getVector(
                hand.fingers[1].bones[0].nextJoint,
                hand.fingers[4].bones[0].nextJoint
            ),
            // Второй вектор базиса
            f = Linear.getVector(
                hand.fingers[2].bones[1].prevJoint,
                hand.fingers[2].bones[1].nextJoint
            ),
            // Вектор кости
            a = Linear.getVector(finger.bones[2].prevJoint, finger.bones[2].nextJoint);

        return [
            Linear.getAngle(palmAxis, a),
            Linear.getAngle(f, a)
        ];
    };

    // угол в DIP суставе
    e.getDIPAngle = function(finger){
        return e.getJointAngle(finger.bones[2], finger.bones[3])
    };
    // угол в PIP суставе
    e.getPIPAngle = function(finger){
        return e.getJointAngle(finger.bones[1], finger.bones[2])
    };
    // угол в MCP суставе
    e.getMCPAngle = function(hand, finger){
        var palmAxis = Linear.getVector(
                hand.fingers[1].bones[0].nextJoint,
                hand.fingers[4].bones[0].nextJoint
            ),
        // Вектор второй кости пальца
        f = Linear.getVector(finger.bones[1].prevJoint, finger.bones[1].nextJoint);
        return [
            Linear.getAngle(palmAxis, f),
            e.getJointAngle(finger.bones[0], finger.bones[1]),
        ];
    };
    // Косинус угла в суставе
    e.getJointAngle = function(bone_1, bone_2){
        var _v_b1 = Linear.getVector(bone_1.prevJoint, bone_1.nextJoint);
        var _v_b2 = Linear.getVector(bone_2.prevJoint, bone_2.nextJoint);
        return  Linear.getAngle(_v_b1, _v_b2);
    }

})(typeof exports === 'undefined'? this['Gesture']={}: exports);
